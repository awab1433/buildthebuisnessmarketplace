<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Submit Your Listing</title>
  <style>
    form { max-width: 600px; margin: 0 auto; display: flex; flex-direction: column; gap: 10px; }
    input, textarea { padding: 8px; font-size: 1em; }
    button { padding: 10px; background: green; color: white; border: none; font-size: 1em; cursor: pointer; }
  </style>
</head>
<body>
  <h1>Submit Your Business Listing</h1>
  <form id="listingForm">
    <input name="Name" placeholder="Business Name" required />
    <input name="Price" placeholder="Price" type="number" required />
    <input name="Location" placeholder="Location" required />
    <input name="Industry" placeholder="Industry" required />
    <input name="Condition" placeholder="Condition (e.g., New/Used)" required />
    <textarea name="Description" placeholder="Short Description" required></textarea>
    <input name="Image" placeholder="Image URL" required />
    <button type="submit">Submit</button>
  </form>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCzGs2cQRjE7z3UZ6UQCMtvqaI1tXooFNs",
      authDomain: "buildthebuisnessmarketplace.firebaseapp.com",
      projectId: "buildthebuisnessmarketplace",
      storageBucket: "buildthebuisnessmarketplace.appspot.com",
      messagingSenderId: "925773535893",
      appId: "1:925773535893:web:6572609247d9851866599c",
      measurementId: "G-W35X960PF1",
      databaseURL: "https://buildthebuisnessmarketplace-default-rtdb.firebaseio.com"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    document.getElementById("listingForm").onsubmit = async (e) => {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(e.target).entries());
      data.Price = parseFloat(data.Price);
      await push(ref(db, 'listings'), data);
      alert("Listing submitted!");
      e.target.reset();
    };
  </script>
</body>
</html>
